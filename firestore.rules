rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Our standard permission model checks a permissions property for the
    // requested permission (or a special "all" permission)
    function hasPermission(permission) {
      return request.auth.uid != null
        && permission in resource.data.permissions[request.auth.uid];
    }

    match /checklists/{checklistId} {
      allow read: if hasPermission('read');
      allow write: if hasPermission('write') || resource == null;
    }

     match /test/{document=**} {
      allow read, write;
    }
  }
}